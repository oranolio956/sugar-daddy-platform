# Sugar Daddy Platform - Messaging Service Environment Variables
# Generated with secure secrets for development environment

# ===== CRITICAL SECURITY VARIABLES =====
# JWT Secret for authentication tokens (REQUIRED)
# Generated using crypto.randomBytes(32).toString('hex')
JWT_SECRET=4cea8c5db766d1627e4bdd057751f94c53b46ee13bb81aadad1d0828a4fc7786

# Service API Key
# Generated using crypto.randomBytes(32).toString('hex')
MESSAGING_SERVICE_API_KEY=messaging_service_api_key_12345

# ===== SERVICE CONFIGURATION =====
PORT=3004
NODE_ENV=development

# ===== DATABASE CONFIGURATION =====
# PostgreSQL Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=sugar_daddy_platform
DB_USER=sugar_user
DB_PASSWORD=dev_password_123
DB_SSL=false

# Redis Configuration for caching and sessions
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password_123

# ===== EXTERNAL SERVICES =====
# User Service Configuration
USER_SERVICE_URL=http://localhost:3002
USER_SERVICE_API_KEY=user_service_api_key_12345

# Notification Service Configuration
NOTIFICATION_SERVICE_URL=http://localhost:3004
NOTIFICATION_SERVICE_API_KEY=notification_service_api_key_12345

# ===== CHAT CONFIGURATION =====
# Chat Settings
CHAT_POLLING_INTERVAL=5000
CHAT_MAX_MESSAGES=100
CHAT_MESSAGE_RETENTION_DAYS=365
CHAT_MAX_FILE_SIZE=10485760

# Message Configuration
MESSAGE_MAX_LENGTH=2000
MESSAGE_EDIT_TIMEOUT=300000
MESSAGE_DELETE_TIMEOUT=600000
ENABLE_MESSAGE_REACTIONS=true
ENABLE_MESSAGE_THREADING=true

# ===== WEBSOCKET CONFIGURATION =====
# WebSocket Settings
WS_HEARTBEAT_INTERVAL=30000
WS_RECONNECT_ATTEMPTS=5
WS_RECONNECT_DELAY=1000
WS_MAX_CONNECTIONS=10000

# ===== NOTIFICATION CONFIGURATION =====
# Notification Settings
ENABLE_PUSH_NOTIFICATIONS=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_SMS_NOTIFICATIONS=false
NOTIFICATION_BATCH_SIZE=100
NOTIFICATION_QUEUE_TIMEOUT=30000

# ===== RATE LIMITING =====
# Rate limit configuration (requests per minute)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===== LOGGING =====
LOG_LEVEL=info

# ===== FEATURE FLAGS =====
ENABLE_TYPING_INDICATORS=true
ENABLE_READ_RECEIPTS=true
ENABLE_FILE_SHARING=true
ENABLE_VOICE_MESSAGES=true
ENABLE_VIDEO_MESSAGES=false
ENABLE_EMOJI_REACTIONS=true
ENABLE_GIF_SUPPORT=true

# ===== FILE UPLOAD CONFIGURATION =====
# File Upload Settings
UPLOAD_MAX_FILE_SIZE=10485760
UPLOAD_ALLOWED_TYPES="image/*,video/*,audio/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
UPLOAD_MAX_FILES_PER_MESSAGE=10
UPLOAD_EXPIRY_TIME=86400000

# Cloud Storage Configuration
CLOUD_STORAGE_ENABLED=true
CLOUD_STORAGE_BUCKET=messaging-uploads-dev
CLOUD_STORAGE_REGION=us-east-1

# ===== MODERATION CONFIGURATION =====
# Content Moderation
ENABLE_CONTENT_MODERATION=true
MODERATION_SERVICE_URL=http://localhost:3005
MODERATION_TIMEOUT=5000
MODERATION_THRESHOLD=0.8

# Spam Detection
ENABLE_SPAM_DETECTION=true
SPAM_THRESHOLD=0.9
SPAM_COOLDOWN=3600000

# ===== CACHING CONFIGURATION =====
CACHE_TTL=300000
CACHE_MAX_SIZE=1000
ENABLE_REDIS_CACHE=true

# ===== MONITORING AND OBSERVABILITY =====
# APM Service Configuration
APM_SERVICE_NAME=messaging-service
APM_SERVICE_VERSION=1.0.0
APM_ENVIRONMENT=development

# Error Tracking
ERROR_TRACKING_DSN=http://dev_error_tracking_dsn@sentry.example.com/123

# Health Check Configuration
HEALTH_CHECK_PORT=3011
HEALTH_CHECK_PATH=/health

# ===== DEVELOPMENT SETTINGS =====
DEBUG_MODE=true
ENABLE_CHAT_LOGGING=true
ENABLE_WEBSOCKET_LOGGING=true

# ===== PERFORMANCE CONFIGURATION =====
MAX_CONCURRENT_CONNECTIONS=1000
MESSAGE_QUEUE_SIZE=10000
WORKER_COUNT=4

# ===== BUSINESS RULES =====
MAX_CONVERSATIONS_PER_USER=100
MAX_MESSAGES_PER_CONVERSATION=10000
CONVERSATION_TIMEOUT=2592000000
ENABLE_ANONYMOUS_MESSAGES=false

# ===== ENCRYPTION CONFIGURATION =====
# End-to-End Encryption
ENABLE_E2E_ENCRYPTION=false
ENCRYPTION_ALGORITHM=AES-256-GCM
ENCRYPTION_KEY_ROTATION_INTERVAL=2592000000

# ===== INTEGRATION CONFIGURATION =====
# Third-party Integrations
ENABLE_SLACK_INTEGRATION=false
ENABLE_DISCORD_INTEGRATION=false
ENABLE_TELEGRAM_INTEGRATION=false